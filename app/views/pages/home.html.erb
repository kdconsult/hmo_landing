<!-- Navigation Header -->
<header class="fixed top-0 left-0 right-0 z-50 bg-white/80 backdrop-blur-md border-b border-secondary/20">
  <nav class="max-w-6xl mx-auto px-6 py-4" data-controller="landing">
    <div class="flex items-center justify-between">
      <!-- Logo -->
      <a href="/" class="flex items-center gap-3">
        <div class="w-10 h-10 bg-primary rounded-xl flex items-center justify-center">
          <span class="text-white text-xl font-bold">H</span>
        </div>
        <span class="text-2xl font-bold text-quaternary">HMO Landing</span>
      </a>
      
      <!-- Desktop Navigation -->
      <div class="hidden md:flex items-center gap-8">
        <a href="#features" class="text-gray-600 hover:text-primary transition-colors">Features</a>
        <a href="#pricing" class="text-gray-600 hover:text-primary transition-colors">Pricing</a>
        <a href="#about" class="text-gray-600 hover:text-primary transition-colors">About</a>
        <a href="#contact" class="text-gray-600 hover:text-primary transition-colors">Contact</a>
      </div>
      
      <!-- CTA Buttons -->
      <div class="hidden md:flex items-center gap-4">
        <button onclick="document.getElementById('contact').scrollIntoView({behavior: 'smooth'})" class="bg-primary hover:bg-primary/90 text-white px-6 py-2 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300">
          Get Started
        </button>
      </div>
      
      <!-- Mobile Menu Button -->
      <button aria-label="Toggle mobile menu" class="md:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors" data-landing-target="hamburger" data-action="click->landing#toggleMobileMenu">
        <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
    </div>
    
    <!-- Mobile Menu Dropdown -->
    <div class="mobile-menu hidden md:hidden absolute top-full left-0 right-0 bg-white border-b border-secondary/20 shadow-lg" data-landing-target="mobileMenu">
      <div class="px-6 py-4 space-y-4">
        <a href="#features" class="block text-gray-600 hover:text-primary transition-colors py-2" data-action="click->landing#closeMobileMenu">Features</a>
        <a href="#pricing" class="block text-gray-600 hover:text-primary transition-colors py-2" data-action="click->landing#closeMobileMenu">Pricing</a>
        <a href="#about" class="block text-gray-600 hover:text-primary transition-colors py-2" data-action="click->landing#closeMobileMenu">About</a>
        <a href="#contact" class="block text-gray-600 hover:text-primary transition-colors py-2" data-action="click->landing#closeMobileMenu">Contact</a>
        <div class="pt-4 border-t border-gray-200">
          <button onclick="document.getElementById('contact').scrollIntoView({behavior: 'smooth'})" class="w-full bg-primary hover:bg-primary/90 text-white px-6 py-2 rounded-xl font-semibold mb-2">
            Get Started
          </button>
        </div>
      </div>
    </div>
    </div>
  </nav>
</header>

<!-- Hero Section: Waitlist-Driven, Urgency & FOMO -->
<section data-controller="landing" class="pt-24 relative min-h-screen flex items-center justify-center overflow-hidden bg-gradient-to-br from-senary via-white to-secondary/20 hero-section">
  <!-- Background Elements -->
  <div class="absolute inset-0 overflow-hidden">
    <div class="absolute -top-40 -right-40 w-80 h-80 bg-primary/10 rounded-full blur-3xl"></div>
    <div class="absolute -bottom-40 -left-40 w-80 h-80 bg-septenary/10 rounded-full blur-3xl"></div>
  </div>

  <div class="relative z-10 text-center max-w-3xl mx-auto px-6">
    <!-- Urgency Badge -->
    <div class="relative inline-flex items-center bg-red-50 border border-red-200 text-red-700 px-4 py-2 rounded-full text-sm font-medium mb-6 animate-pulse">
      <span class="w-2 absolute h-2 bg-red-500 rounded-full animate-ping"></span>
      ⚡ Only 100 Early Access Spots – Act Fast!
    </div>

    <!-- Spots Remaining Counter & Progress Bar -->
    <div class="flex flex-col items-center mb-8">
      <div class="flex items-center gap-2 mb-2">
        <span class="text-2xl font-bold text-quaternary">Spots Remaining:</span>
        <span id="spots-remaining" class="text-2xl font-bold text-red-600">100</span>
        <span class="text-lg text-gray-500">/ 100</span>
      </div>
      <div class="w-full max-w-xs h-3 bg-gray-200 rounded-full overflow-hidden">
        <div id="spots-progress" class="h-3 rounded-full transition-all duration-500" style="width:100%"></div>
      </div>
      <div id="spots-message" class="text-xs text-gray-500 mt-2"></div>
    </div>

    <!-- Main Headline -->
    <h1 class="text-5xl md:text-6xl font-bold text-quaternary mb-6 leading-tight">
      Secure Your <span class="bg-gradient-to-r from-primary to-septenary bg-clip-text text-transparent">Early Access</span>
    </h1>
    
    <div class="text-xl md:text-2xl text-gray-600 mb-8 max-w-2xl mx-auto">
      <%= @landing_page.body %>
      <%= @ref %>
    </div>

    <!-- Subheadline with FOMO -->
    <p class="text-xl md:text-2xl text-gray-600 mb-8 max-w-2xl mx-auto">
      Be one of the <span class="font-semibold text-primary">first 100</span> to unlock exclusive access and a <span class="text-red-600 font-bold">50% off coupon</span> for your first year. Don’t let this once-in-a-lifetime opportunity slip away!
    </p>
    
    <!-- CTA Button -->
    <div class="flex justify-center mb-10">
      <button type="button" onclick="window.waitlistFocusForm()" class="bg-primary hover:bg-primary/90 text-white px-6 py-3 md:px-10 md:py-5 rounded-2xl text-2xl font-bold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 animate-pulse-glow">
        🚀 Claim My Spot
      </button>
    </div>

    <!-- Social Proof & Urgency -->
    <div class="flex flex-col sm:flex-row items-center justify-center gap-6 text-sm text-gray-500">
      <div class="flex items-center gap-2">
        <div class="flex -space-x-2">
          <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=32&h=32&fit=crop&crop=face" alt="User" class="w-8 h-8 rounded-full border-2 border-white">
          <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=32&h=32&fit=crop&crop=face" alt="User" class="w-8 h-8 rounded-full border-2 border-white">
          <img src="https://images.unsplash.com/photo-1494790108755-2616b612b786?w=32&h=32&fit=crop&crop=face" alt="User" class="w-8 h-8 rounded-full border-2 border-white">
        </div>
        <span><span id="joined-today" class="font-bold text-primary">37</span> joined today</span>
      </div>
      <div class="flex items-center gap-2">
        <div class="flex text-yellow-400">★★★★★</div>
        <span>4.9/5 rating</span>
      </div>
      <div class="flex items-center gap-2">
        <span class="text-red-600 font-bold">Hurry!</span>
        <span>Spots are filling up fast</span>
      </div>
    </div>
    <div class="mt-2 text-xs text-red-500 font-semibold animate-pulse">Most spots claimed in the last hour!</div>
  </div>
</section>

<!-- Minimal Features Section -->
<section id="features" class="scroll-mt-header py-16 bg-white border-t border-secondary/20">
  <div class="max-w-4xl mx-auto px-6">
    <h2 class="text-3xl font-bold text-quaternary mb-10 text-center">What Makes Us Different?</h2>
    <div class="grid md:grid-cols-3 gap-8">
      <div class="flex flex-col items-center text-center">
        <div class="w-14 h-14 flex items-center justify-center rounded-full bg-primary/10 mb-4">
          <span class="text-3xl">⚡</span>
        </div>
        <h3 class="text-lg font-bold text-quaternary mb-2">Instant Setup</h3>
        <p class="text-gray-600">Get started in minutes—no technical skills required.</p>
      </div>
      <div class="flex flex-col items-center text-center">
        <div class="w-14 h-14 flex items-center justify-center rounded-full bg-primary/10 mb-4">
          <span class="text-3xl">🔒</span>
        </div>
        <h3 class="text-lg font-bold text-quaternary mb-2">Enterprise-Grade Security</h3>
        <p class="text-gray-600">Your data is protected with industry-leading security standards.</p>
      </div>
      <div class="flex flex-col items-center text-center">
        <div class="w-14 h-14 flex items-center justify-center rounded-full bg-primary/10 mb-4">
          <span class="text-3xl">🤝</span>
        </div>
        <h3 class="text-lg font-bold text-quaternary mb-2">Human Support</h3>
        <p class="text-gray-600">Real people, real help—24/7 expert support for every user.</p>
      </div>
    </div>
  </div>
</section>

<!-- Minimal Pricing Section -->
<section id="pricing" class="scroll-mt-header py-10 bg-white border-t border-secondary/20">
  <div class="max-w-2xl mx-auto px-6 text-center">
    <h3 class="text-2xl font-bold text-quaternary mb-2">Transparent Early Access Pricing</h3>
    <p class="text-lg text-gray-700 mb-2">
      Early access plans will start at <span class="font-bold text-primary">$29/month</span>.
      By joining the waitlist, you’ll get a <span class="text-red-600 font-bold">50% discount</span> for your first year.
    </p>
    <p class="text-xs text-gray-500">No hidden fees. Cancel anytime. You’ll see full details before you pay.</p>
  </div>
</section>

<!-- Minimal About Section -->
<section id="about" class="scroll-mt-header py-8 bg-white border-t border-secondary/20">
  <div class="max-w-2xl mx-auto px-6 text-center">
    <h2 class="text-xl font-bold text-quaternary mb-2">About Our Platform</h2>
    <p class="text-gray-700">
      We’re building the fastest, most secure, and most human-friendly SaaS platform for modern teams. Join our early access to help shape the future!
    </p>
  </div>
</section>

<!-- Contact Section with Waitlist Form (Refactored for FOMO, Scarcity, and Sharing) -->
<section id="contact" class="scroll-mt-header py-20 bg-gradient-to-br from-senary to-white">
  <div class="max-w-4xl mx-auto px-2 md:px-6">
    <div class="text-center mb-16">
      <h2 class="text-4xl font-bold text-quaternary mb-4">
        Secure Your Spot on the Waitlist
      </h2>
      <p class="text-xl text-gray-600 max-w-2xl mx-auto">
        Only <span id="spots-remaining-form" class="font-bold text-primary">100</span> early access <span id="spots-remaining-form-word">spots</span> available. Join now for a <span class="text-red-600 font-bold">50% off coupon</span> and a chance to be among the first to experience our platform.
      </p>
    </div>
    <div class="grid gap-12 items-start">
      <!-- Waitlist Form (centerpiece, no sidebar) -->
      <div class="bg-white py-8 px-4 md:px-8 rounded-2xl shadow-xl border border-secondary/20">
        <!-- Dynamic FOMO microcopy -->
        <div id="fomo-microcopy" class="mb-4 text-center text-lg text-red-600 font-semibold"></div>
        <!-- Dynamic error messages -->
        <div id="waitlist-error" class="mb-2 text-center text-red-600 font-semibold"></div>
        <!-- Dynamic post-signup content (success, coupon, sharing) -->
        <div id="waitlist-success" class="mb-6"></div>
        <!-- Waitlist Form -->
        <form id="waitlist-form" data-controller="waitlist-form" data-action="submit->waitlist-form#submitForm" data-slug="<%= @landing_page.slug %>" class="space-y-6">
          <div>
            <label for="full_name" class="block text-sm font-medium text-gray-700 mb-2">
              Full Name *
            </label>
            <input 
              type="text" 
              id="full_name" 
              name="full_name" 
              required
              class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-300"
              placeholder="Enter your full name"
            >
          </div>
          <div>
            <label for="email" class="block text-sm font-medium text-gray-700 mb-2">
              Email Address *
            </label>
            <input 
              type="email" 
              id="email" 
              name="email" 
              required
              class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-300"
              placeholder="Enter your email address"
            >
          </div>
          <div>
            <label for="phone" class="block text-sm font-medium text-gray-700 mb-2">
              Phone Number *
            </label>
            <input 
              type="tel" 
              id="phone" 
              name="phone" 
              required
              pattern="[0-9\-\+\s\(\)]{7,}"
              class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-300"
              placeholder="Enter your phone number"
            >
          </div>
          <div>
            <label for="company" class="block text-sm font-medium text-gray-700 mb-2">
              Company Name
            </label>
            <input 
              type="text" 
              id="company" 
              name="company" 
              class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-300"
              placeholder="Enter your company name"
            >
          </div>
          <div>
            <label for="role" class="block text-sm font-medium text-gray-700 mb-2">
              Job Role
            </label>
            <select 
              id="role" 
              name="role" 
              class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-300"
            >
              <option value="">Select your role</option>
              <option value="founder">Founder/CEO</option>
              <option value="executive">Executive/C-Level</option>
              <option value="manager">Manager/Director</option>
              <option value="individual">Individual Contributor</option>
              <option value="other">Other</option>
            </select>
          </div>
          <div>
            <label for="use_case" class="block text-sm font-medium text-gray-700 mb-2">
              Primary Use Case
            </label>
            <select 
              id="use_case" 
              name="use_case" 
              class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-300"
            >
              <option value="">Select primary use case</option>
              <option value="automation">Business Process Automation</option>
              <option value="analytics">Data Analytics & Insights</option>
              <option value="collaboration">Team Collaboration</option>
              <option value="customer">Customer Management</option>
              <option value="operations">Operations Management</option>
              <option value="other">Other</option>
            </select>
          </div>
          <div class="flex items-start gap-3">
            <input 
              type="checkbox" 
              id="newsletter" 
              name="newsletter" 
              class="mt-1 w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary focus:ring-2"
            >
            <label for="newsletter" class="text-sm text-gray-600">
              I want to receive updates about product launches, exclusive offers, and industry insights.
            </label>
          </div>
          <button 
            type="submit" 
            class="w-full bg-primary hover:bg-primary/90 text-white py-4 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 text-xl animate-pulse-glow"
          >
            🚀 Claim My Spot
          </button>
          <p class="text-xs text-gray-500 text-center">
            By joining the waitlist, you agree to our 
            <a href="#" class="text-primary hover:underline">Privacy Policy</a> and 
            <a href="#" class="text-primary hover:underline">Terms of Service</a>.
          </p>
          <p class="text-xs text-gray-500 text-center mt-2">
            We respect your privacy. No spam, ever.
          </p>
        </form>
      </div>
    </div>
  </div>
</section>

  <!-- Final CTA Section -->
<section class="py-20 bg-gradient-to-br from-quaternary to-quinary text-white">
  <div class="max-w-4xl mx-auto px-6 text-center">
    <h2 class="text-4xl font-bold mb-6">
      Ready to Join the Future?
    </h2>
    <p class="text-xl text-secondary mb-8">
      Be among the first to experience our revolutionary platform. Join the waitlist now and get exclusive early access.
    </p>
    
    <div class="flex flex-col sm:flex-row gap-4 justify-center mb-8">
      <button onclick="document.getElementById('contact').scrollIntoView({behavior: 'smooth'})" class="bg-primary hover:bg-primary/90 text-white px-8 py-4 rounded-xl text-lg font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300">
        🚀 Join the Waitlist Now
      </button>
      <button class="border-2 border-white text-white hover:bg-white hover:text-quaternary px-8 py-4 rounded-xl text-lg font-semibold transition-all duration-300">
        📞 Schedule Demo
      </button>
    </div>
    
    <div class="text-secondary text-sm">
      No credit card required • Exclusive early access • Priority support
    </div>
  </div>
</section>

<!-- FAQ Section -->
<section id="faq" class="scroll-mt-header py-20 bg-gradient-to-br from-white to-senary border-t border-secondary/20">
  <div class="max-w-3xl mx-auto px-2 md:px-6">
    <h2 class="text-4xl font-bold text-quaternary mb-10 text-center">Frequently Asked Questions</h2>
    <div class="space-y-6">
      <details class="group border border-secondary/30 rounded-xl p-4 bg-white transition-shadow hover:shadow-lg">
        <summary class="flex items-center justify-between cursor-pointer text-lg font-semibold text-quaternary group-open:text-primary transition-colors">
          How does the waitlist work?
          <span class="ml-2 text-primary group-open:rotate-90 transition-transform">▶</span>
        </summary>
        <div class="mt-2 text-gray-700">
          We have only 100 early access spots. If you claim a spot before they’re gone, your access is guaranteed. If all spots are filled, you’ll be added to the waitlist and notified if a spot opens up. The more friends you refer, the higher your priority!
        </div>
      </details>
      <details class="group border border-secondary/30 rounded-xl p-4 bg-white transition-shadow hover:shadow-lg">
        <summary class="flex items-center justify-between cursor-pointer text-lg font-semibold text-quaternary group-open:text-primary transition-colors">
          How do I use my coupon?
          <span class="ml-2 text-primary group-open:rotate-90 transition-transform">▶</span>
        </summary>
        <div class="mt-2 text-gray-700">
          After you join, you’ll receive a 50% off coupon code valid for your first year. You can use this code during checkout when early access opens. We’ll also email it to you for safekeeping.
        </div>
      </details>
      <details class="group border border-secondary/30 rounded-xl p-4 bg-white transition-shadow hover:shadow-lg">
        <summary class="flex items-center justify-between cursor-pointer text-lg font-semibold text-quaternary group-open:text-primary transition-colors">
          What if I don’t get in?
          <span class="ml-2 text-primary group-open:rotate-90 transition-transform">▶</span>
        </summary>
        <div class="mt-2 text-gray-700">
          If all 100 spots are filled, you’ll be on the waitlist. We’ll notify you as soon as a spot opens up. You’ll still receive your coupon code and can use it when you get access.
        </div>
      </details>
      <details class="group border border-secondary/30 rounded-xl p-4 bg-white transition-shadow hover:shadow-lg">
        <summary class="flex items-center justify-between cursor-pointer text-lg font-semibold text-quaternary group-open:text-primary transition-colors">
          How do referrals increase my chances?
          <span class="ml-2 text-primary group-open:rotate-90 transition-transform">▶</span>
        </summary>
        <div class="mt-2 text-gray-700">
          For every friend who joins using your invite link, you move up the waitlist. The more you share, the sooner you’ll get access if a spot opens up!
        </div>
      </details>
      <details class="group border border-secondary/30 rounded-xl p-4 bg-white transition-shadow hover:shadow-lg">
        <summary class="flex items-center justify-between cursor-pointer text-lg font-semibold text-quaternary group-open:text-primary transition-colors">
          How will I know if I get early access?
          <span class="ml-2 text-primary group-open:rotate-90 transition-transform">▶</span>
        </summary>
        <div class="mt-2 text-gray-700">
          We’ll send you an email as soon as your spot is secured or if you move up from the waitlist. Make sure to check your inbox for updates!
        </div>
      </details>
      <details class="group border border-secondary/30 rounded-xl p-4 bg-white transition-shadow hover:shadow-lg">
        <summary class="flex items-center justify-between cursor-pointer text-lg font-semibold text-quaternary group-open:text-primary transition-colors">
          How is my data used?
          <span class="ml-2 text-primary group-open:rotate-90 transition-transform">▶</span>
        </summary>
        <div class="mt-2 text-gray-700">
          We only use your information to notify you about early access, your coupon, and important updates. We never share your data with third parties, and you can unsubscribe at any time.
        </div>
      </details>
      <details class="group border border-secondary/30 rounded-xl p-4 bg-white transition-shadow hover:shadow-lg">
        <summary class="flex items-center justify-between cursor-pointer text-lg font-semibold text-quaternary group-open:text-primary transition-colors">
          What is your satisfaction guarantee?
          <span class="ml-2 text-primary group-open:rotate-90 transition-transform">▶</span>
        </summary>
        <div class="mt-2 text-gray-700">
          We’re confident you’ll love our platform. If you’re not 100% satisfied within your first 30 days, let us know and we’ll make it right—no questions asked.
        </div>
      </details>
    </div>
  </div>
</section>

<!-- Footer (minimal, focused) -->
<footer class="py-12 bg-quaternary text-white border-t border-quinary/40">
  <div class="max-w-6xl mx-auto px-6">
    <div class="grid md:grid-cols-3 gap-8 mb-8">
      <div>
        <h4 class="text-xl font-bold mb-4">Company</h4>
        <ul class="space-y-2 text-secondary">
          <li><a href="#about" class="hover:text-white transition-colors">About</a></li>
          <li><a href="#faq" class="hover:text-white transition-colors">FAQ</a></li>
        </ul>
      </div>
      <div>
        <h4 class="text-xl font-bold mb-4">Support</h4>
        <ul class="space-y-2 text-secondary">
          <li><a href="#contact" class="hover:text-white transition-colors">Contact</a></li>
          <li><a href="#faq" class="hover:text-white transition-colors">Help Center</a></li>
        </ul>
      </div>
      <div>
        <h4 class="text-xl font-bold mb-4">Legal & Privacy</h4>
        <ul class="space-y-2 text-secondary">
          <li><a href="#" class="hover:text-white transition-colors">Privacy Policy</a></li>
        </ul>
      </div>
    </div>
    <div class="border-t border-quinary pt-8 text-center text-secondary">
      <p>&copy; 2025 Your Company. All rights reserved. | <a href="#contact" class="text-primary hover:underline">Contact Support</a></p>
    </div>
  </div>
</footer>

<!-- Floating Action Button -->
<div class="fixed bottom-8 right-8 z-40">
  <button class="bg-primary hover:bg-primary/90 text-white w-16 h-16 rounded-full shadow-lg hover:shadow-xl transform hover:scale-110 transition-all duration-300 flex items-center justify-center">
    <span class="text-2xl">💬</span>
  </button>
</div>

<!-- Scroll to Top Button -->
<button id="scrollToTop" class="fixed bottom-8 left-8 z-40 bg-quaternary hover:bg-quaternary/90 text-white w-12 h-12 rounded-full shadow-lg hover:shadow-xl transform hover:scale-110 transition-all duration-300 opacity-0 pointer-events-none">
  <svg class="w-6 h-6 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path>
  </svg>
</button>
